{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport Head from 'next/head';\nimport Card from '../components/Card';\nimport { getLastTypes, setLastTypes } from '../logic/persistentTypes';\n\nvar Index = function Index(_ref) {\n  var pokemonCards = _ref.pokemonCards,\n      pokemonTypes = _ref.pokemonTypes;\n\n  if (!getLastTypes()) {\n    setLastTypes(pokemonTypes);\n  }\n\n  var _useState = useState(getLastTypes()),\n      selectedTypes = _useState[0],\n      setSelectedTypes = _useState[1];\n\n  setLastTypes(selectedTypes);\n\n  var togglePokemonType = function togglePokemonType(type, ev) {\n    if (ev.ctrlKey || ev.shiftKey) {\n      if (selectedTypes.includes(type)) {\n        setSelectedTypes(function (types) {\n          return _toConsumableArray(types).filter(function (item) {\n            return item !== type;\n          });\n        });\n      } else {\n        setSelectedTypes(function (types) {\n          var newTypes = _toConsumableArray(types);\n\n          newTypes.push(type);\n          return newTypes;\n        });\n      }\n    } else {\n      setSelectedTypes(function () {\n        return [type];\n      });\n    }\n  };\n\n  var selectedPokemonCards = pokemonCards.filter(function (card) {\n    return card.types.some(function (item) {\n      return selectedTypes.includes(item);\n    });\n  });\n\n  var selectAll = function selectAll() {\n    setSelectedTypes(_toConsumableArray(pokemonTypes));\n  };\n\n  var selectNone = function selectNone() {\n    setSelectedTypes([]);\n  };\n\n  return __jsx(React.Fragment, null, __jsx(Head, null, __jsx(\"title\", null, \"BinPar Pokedex\")), __jsx(\"main\", null, __jsx(\"h1\", null, \"BinPar Pokedex\"), __jsx(\"p\", {\n    className: \"pokemonTypes\"\n  }, pokemonTypes.map(function (type) {\n    return __jsx(\"button\", {\n      onClick: function onClick(ev) {\n        return togglePokemonType(type, ev);\n      },\n      className: selectedTypes.includes(type) ? 'on' : 'off',\n      type: \"button\",\n      key: type\n    }, type);\n  }), __jsx(\"button\", {\n    onClick: selectAll,\n    type: \"button\",\n    className: \"special\"\n  }, \"All\"), __jsx(\"button\", {\n    onClick: selectNone,\n    type: \"button\",\n    className: \"special\"\n  }, \"None\")), __jsx(\"div\", {\n    id: \"app\"\n  }, selectedPokemonCards.map(function (card) {\n    return __jsx(Card, {\n      key: card.id,\n      pokemonCard: card\n    });\n  }))));\n};\n\nexport var __N_SSG = true;\nexport default Index;","map":null,"metadata":{},"sourceType":"module"}